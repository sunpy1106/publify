!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(t){function e(){var e=s.settings;if(e.autoDispose&&!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var r=i(this);return isNaN(r.datetime)||(0==e.cutoff||Math.abs(o(r.datetime))<e.cutoff)&&t(this).text(n(r.datetime,t(this).attr("lang")?t(this).attr("lang"):s.settings.lang)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:s.datetime(e)});var i=t.trim(e.text());s.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||s.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function n(t,e){return s.inWords(o(t),e)}function o(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var s=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,lang:"en",strings:{en:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}}},inWords:function(e,i){function n(i,n){var s=t.isFunction(i)?i(n,e):i,r=o.numbers&&o.numbers[n]||n;return s.replace(/%d/i,r)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var o=this.settings.strings[i]||this.settings.strings[this.settings.lang]||this.settings.strings.en,s=o.prefixAgo,r=o.suffixAgo;if(this.settings.allowFuture&&0>e&&(s=o.prefixFromNow,r=o.suffixFromNow),!this.settings.allowPast&&e>=0)return o.inPast;var a=Math.abs(e)/1e3,l=a/60,u=l/60,d=u/24,c=d/365,h=45>a&&n(o.seconds,Math.round(a))||90>a&&n(o.minute,1)||45>l&&n(o.minutes,Math.round(l))||90>l&&n(o.hour,1)||24>u&&n(o.hours,Math.round(u))||42>u&&n(o.day,1)||30>d&&n(o.days,Math.round(d))||45>d&&n(o.month,1)||365>d&&n(o.months,Math.round(d/30))||1.5>c&&n(o.year,1)||n(o.years,Math.round(c)),p=o.wordSeparator||"";return void 0===o.wordSeparator&&(p=" "),t.trim([s,h,r].join(p))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(e){var i=s.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return s.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var r={init:function(){var i=t.proxy(e,this);i();var n=s.settings;n.refreshMillis>0&&(this._timeagoInterval=setInterval(i,n.refreshMillis))},update:function(i){var n=i instanceof Date?i:s.parse(i);t(this).data("timeago",{datetime:n}),s.settings.localeTitle&&t(this).attr("title",n.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:s.parse(s.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var i=t?r[t]:r.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),function(t){t(document).on("ready turbolinks:load page:load ajax:success",function(){t("time[data-time-ago]").timeago()})}(jQuery);
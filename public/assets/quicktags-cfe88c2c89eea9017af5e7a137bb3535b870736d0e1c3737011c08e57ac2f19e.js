function edButton(t,e,i,n,o,s){this.id=t,this.display=e,this.tagStart=i,this.tagEnd=n,this.access=o,this.open=s}function get_buttons(t){switch(t){case"textile":edButtons.push(new edButton("ed_bold","b","**","**","b")),edButtons.push(new edButton("ed_italic","i","_","_","i")),edButtons.push(new edButton("ed_link","link","","</a>","a")),edButtons.push(new edButton("ed_img","img","!","!","m",-1)),edButtons.push(new edButton("ed_li","li","* ","","l",-1)),edButtons.push(new edButton("ed_block","b-quote",">","","q",-1)),edButtons.push(new edButton("ed_del","del","<del>","</del>")),edButtons.push(new edButton("ed_code","code","@","@","c")),edButtons.push(new edButton("ed_more","more","\n<!--more-->\n","","")),edButtons.push(new edButton("ed_publifycode","publify:code","","\n</publify:code>\n\n","publify:code"));break;case"markdown":case"markdown smartypants":edButtons.push(new edButton("ed_bold","b","**","**","b")),edButtons.push(new edButton("ed_italic","i","_","_","i")),edButtons.push(new edButton("ed_link","link","","</a>","a")),edButtons.push(new edButton("ed_img","img","","","m",-1)),edButtons.push(new edButton("ed_li","li","* ","","l",-1)),edButtons.push(new edButton("ed_ol","ol","#","","o",-1)),edButtons.push(new edButton("ed_block","b-quote",">","","q",-1)),edButtons.push(new edButton("ed_del","del","<del>","</del>")),edButtons.push(new edButton("ed_code","code","`","`","c")),edButtons.push(new edButton("ed_more","more","\n<!--more-->\n","","")),edButtons.push(new edButton("ed_publifycode","publify:code","","\n</publify:code>\n\n","publify:code"));break;default:edButtons.push(new edButton("ed_bold","b","<strong>","</strong>","b")),edButtons.push(new edButton("ed_italic","i","<em>","</em>","i")),edButtons.push(new edButton("ed_link","link","","</a>","a")),edButtons.push(new edButton("ed_img","img","","","m",-1)),edButtons.push(new edButton("ed_ul","ul","<ul>\n","</ul>\n\n","u")),edButtons.push(new edButton("ed_ol","ol","<ol>\n","</ol>\n\n","o")),edButtons.push(new edButton("ed_li","li","	<li>","</li>\n","l")),edButtons.push(new edButton("ed_block","b-quote","<blockquote>","</blockquote>","q")),edButtons.push(new edButton("ed_del","del","<del>","</del>")),edButtons.push(new edButton("ed_code","code","<code>","</code>","c")),edButtons.push(new edButton("ed_more","more","\n<!--more-->\n","","")),edButtons.push(new edButton("ed_publifycode","publify:code","","\n</publify:code>\n\n","publify:code"))}}function edLink(t,e,i){this.display=t,this.URL=e,i||(i=0),this.newWin=i}function edShowButton(t,e,i){if(e.access)var n=' accesskey = "'+e.access+'"';else var n="";switch(e.id){case"ed_img":document.write('<input type="button" id="'+e.id+"_"+t+'" '+n+' class="btn btn-default '+e.id+'" onclick="edInsertImage(\''+t+'\');" value="'+e.display+'" />');break;case"ed_link":document.write('<input type="button" id="'+e.id+"_"+t+'" '+n+' class="btn btn-default '+e.id+'" onclick="edInsertLink(\''+t+"', "+i+');" value="'+e.display+'" />');break;case"ed_publifycode":document.write('<input type="button" id="'+e.id+"_"+t+'" '+n+' class="btn btn-default '+e.id+'" onclick="edInsertPublifyCode(\''+t+"', "+i+');" value="'+e.display+'" />');break;default:document.write('<input type="button" id="'+e.id+"_"+t+'" '+n+' class="btn btn-default '+e.id+'" onclick="edInsertTag(\''+t+"', "+i+');" value="'+e.display+'"  />')}}function edShowLinks(){var t='<select onchange="edQuickLink(this.options[this.selectedIndex].value, this);"><option value="-1" selected>(Quick Links)</option>';for(i=0;i<edLinks.length;i++)t+='<option value="'+i+'">'+edLinks[i].display+"</option>";t+="</select>",document.write(t)}function edAddTag(t,e){""!=edButtons[e].tagEnd&&(edOpenTags[t][edOpenTags[t].length]=e,document.getElementById(edButtons[e].id+"_"+t).value="/"+document.getElementById(edButtons[e].id+"_"+t).value)}function edRemoveTag(t,e){for(i=0;i<edOpenTags[t].length;i++)edOpenTags[t][i]==e&&(edOpenTags[t].splice(i,1),document.getElementById(edButtons[e].id+"_"+t).value=document.getElementById(edButtons[e].id+"_"+t).value.replace("/",""))}function edCheckOpenTags(t,e){var n=0;for(i=0;i<edOpenTags[t].length;i++)edOpenTags[t][i]==e&&n++;return n>0}function edCloseAllTags(t){var e=edOpenTags[t].length;for(o=0;o<e;o++)edInsertTag(t,edOpenTags[t][edOpenTags[t].length-1])}function edQuickLink(t,e){if(t>-1){var i="";1==edLinks[t].newWin&&(i=' target="_blank"');var n='<a href="'+edLinks[t].URL+'"'+i+">"+edLinks[t].display+"</a>";e.selectedIndex=0,edInsertContent(edCanvas,n)}else e.selectedIndex=0}function edSpell(t){myField=document.getElementById(t);var e="";if(document.selection){myField.focus();var i=document.selection.createRange();i.text.length>0&&(e=i.text)}else if(myField.selectionStart||"0"==myField.selectionStart){var n=myField.selectionStart,o=myField.selectionEnd;n!=o&&(e=myField.value.substring(n,o))}""==e&&(e=prompt("Enter a word to look up:","")),""!=e&&window.open(dictionaryUrl+escape(e))}function edToolbar(t,e){for(get_buttons(e),document.write('<div id="ed_toolbar_'+t+'" class="btn-toolbar"><div class="btn-group-vertical">'),i=0;i<extendedStart;i++)edShowButton(t,edButtons[i],i);for(i=extendedStart;i<edButtons.length;i++)edShowButton(t,edButtons[i],i);edShowExtraCookie()?document.write('<input type="button" id="ed_close_'+t+'" class="btn btn-default" onclick="edCloseAllTags(\''+t+'\');" value="Close Tags" /><input type="button" id="ed_spell_'+t+'" class="btn btn-default" onclick="edSpell(\''+t+'\');" value="Dict" />'):document.write('<input type="button" id="ed_close_'+t+'" class="btn btn-default" onclick="edCloseAllTags(\''+t+'\');" value="Close Tags" /><input type="button" id="ed_spell_'+t+'" class="btn btn-default" onclick="edSpell(\''+t+'\');" value="Dict" />'),document.write("</div></div>"),edOpenTags[t]=new Array}function edInsertTag(t,e){if(myField=document.getElementById(t),document.selection)myField.focus(),sel=document.selection.createRange(),sel.text.length>0?sel.text=edButtons[e].tagStart+sel.text+edButtons[e].tagEnd:edCheckOpenTags(t,e)&&""!=edButtons[e].tagEnd?(sel.text=edButtons[e].tagEnd,edRemoveTag(t,e)):(sel.text=edButtons[e].tagStart,edAddTag(t,e)),myField.focus();else if(myField.selectionStart||"0"==myField.selectionStart){var i=myField.selectionStart,n=myField.selectionEnd,o=n,s=myField.scrollTop;i!=n?(myField.value=myField.value.substring(0,i)+edButtons[e].tagStart+myField.value.substring(i,n)+edButtons[e].tagEnd+myField.value.substring(n,myField.value.length),o+=edButtons[e].tagStart.length+edButtons[e].tagEnd.length):edCheckOpenTags(t,e)&&""!=edButtons[e].tagEnd?(myField.value=myField.value.substring(0,i)+edButtons[e].tagEnd+myField.value.substring(n,myField.value.length),edRemoveTag(t,e),o=i+edButtons[e].tagEnd.length):(myField.value=myField.value.substring(0,i)+edButtons[e].tagStart+myField.value.substring(n,myField.value.length),edAddTag(t,e),o=i+edButtons[e].tagStart.length),myField.focus(),myField.selectionStart=o,myField.selectionEnd=o,myField.scrollTop=s}else edCheckOpenTags(t,e)&&""!=edButtons[e].tagEnd?(myField.value+=edButtons[e].tagEnd,edRemoveTag(t,e)):(myField.value+=edButtons[e].tagStart,edAddTag(t,e)),myField.focus()}function edInsertContent(t,e){if(myField=document.getElementById(t),document.selection)myField.focus(),sel=document.selection.createRange(),sel.text=e,myField.focus();else if(myField.selectionStart||"0"==myField.selectionStart){var i=myField.selectionStart,n=myField.selectionEnd,o=myField.scrollTop;myField.value=myField.value.substring(0,i)+e+myField.value.substring(n,myField.value.length),myField.focus(),myField.selectionStart=i+e.length,myField.selectionEnd=i+e.length,myField.scrollTop=o}else myField.value+=e,myField.focus()}function edInsertLink(t,e,i){if(myField=document.getElementById(t),i||(i="http://"),edCheckOpenTags(t,e))edInsertTag(t,e);else{var n=prompt("Enter the URL",i);n&&(edButtons[e].tagStart='<a href="'+n+'">',edInsertTag(t,e))}}function edInsertPublifyCode(t,e,i){if(myField=document.getElementById(t),i||(i=""),edCheckOpenTags(t,e))edInsertTag(t,e);else{var n=prompt("Choose language",i);n&&(edButtons[e].tagStart='<publify:code lang="'+n+'">\n',edInsertTag(t,e))}}function edInsertImage(t){myField=document.getElementById(t);var e=prompt("Enter the URL of the image","http://");e&&e.length>0&&(e='<img src="'+e+'" alt="'+prompt("Enter a description of the image","")+'" />',edInsertContent(t,e))}function edInsertImageFromCarousel(t,e){myField=document.getElementById(t),e&&(myValue='<img src="'+e+'" alt="'+prompt("Enter a description of the image","")+'" />',edInsertContent(t,myValue))}function countInstances(t,e){var i=t.split(e);return i.length-1}function edInsertVia(t){myField=document.getElementById(t);var e=prompt("Enter the URL of the source link","http://");e&&(e='(Thanks <a href="'+e+'" rel="external">'+prompt("Enter the name of the source","")+"</a>)",edInsertContent(t,e))}function edSetCookie(t,e,i,n,o){document.cookie=t+"="+escape(e)+(i?"; expires="+i.toGMTString():"")+(n?"; path="+n:"")+(o?"; domain="+o:"")}function edShowExtraCookie(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){for(var i=t[e];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf("js_quicktags_extra"))return"show"==i.substring(19,i.length)}return!1}var dictionaryUrl="http://www.ninjawords.com/",edButtons=new Array,edLinks=new Array,edOpenTags=new Array,extendedStart=edButtons.length;edLinks[edLinks.length]=new edLink("alexking.org","http://www.alexking.org/");